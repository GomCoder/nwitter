{"ast":null,"code":"import _regeneratorRuntime from\"/Users/gomcoder_mac/nwitter/nwitter/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/gomcoder_mac/nwitter/nwitter/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/gomcoder_mac/nwitter/nwitter/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import{authService}from\"../fbase\";import{createUserWithEmailAndPassword,signInWithEmailAndPassword,signInWithPopup,GoogleAuthProvider,GithubAuthProvider}from\"firebase/auth\";import AuthForm from\"components/AuthForm\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Auth=function Auth(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];//email\nvar _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];//password\nvar _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),newAccount=_useState6[0],setNewAccount=_useState6[1];//Account\nvar _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),error=_useState8[0],setError=_useState8[1];var toggleAccount=function toggleAccount(){return setNewAccount(function(prev){return!prev;});};//Toggle Account\n//상태 변화\nvar onChange=function onChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;if(name===\"email\"){setEmail(value);}else if(name===\"password\"){setPassword(value);}};//Submit 버튼\nvar onSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:event.preventDefault();_context.prev=1;if(!newAccount){_context.next=8;break;}_context.next=5;return createUserWithEmailAndPassword(authService,email,password);case 5:data=_context.sent;_context.next=11;break;case 8:_context.next=10;return signInWithEmailAndPassword(authService,email,password);case 10:data=_context.sent;case 11:console.log(data);_context.next=17;break;case 14:_context.prev=14;_context.t0=_context[\"catch\"](1);setError(_context.t0.message);case 17:case\"end\":return _context.stop();}},_callee,null,[[1,14]]);}));return function onSubmit(_x){return _ref.apply(this,arguments);};}();//소셜 로그인 버튼\nvar onSocialClick=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(event){var name,provider,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:// console.log(event.target.name);\nname=event.target.name;if(name===\"google\"){//Google 소셜 로그인\nprovider=new GoogleAuthProvider();}else if(name===\"github\"){//Github 소셜 로그인\nprovider=new GithubAuthProvider();}_context2.next=4;return signInWithPopup(authService,provider);case 4:data=_context2.sent;case 5:case\"end\":return _context2.stop();}},_callee2);}));return function onSocialClick(_x2){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(AuthForm,{}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:onSocialClick,name:\"google\",children:\"Continue with Google\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onSocialClick,name:\"github\",children:\"Continue with Github\"})]})]});};export default Auth;","map":{"version":3,"names":["useState","authService","createUserWithEmailAndPassword","signInWithEmailAndPassword","signInWithPopup","GoogleAuthProvider","GithubAuthProvider","AuthForm","jsx","_jsx","jsxs","_jsxs","Auth","_useState","_useState2","_slicedToArray","email","setEmail","_useState3","_useState4","password","setPassword","_useState5","_useState6","newAccount","setNewAccount","_useState7","_useState8","error","setError","toggleAccount","prev","onChange","event","_event$target","target","name","value","onSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","data","wrap","_callee$","_context","next","preventDefault","sent","console","log","t0","message","stop","_x","apply","arguments","onSocialClick","_ref2","_callee2","provider","_callee2$","_context2","_x2","children","onClick"],"sources":["/Users/gomcoder_mac/nwitter/nwitter/src/routes/Auth.js"],"sourcesContent":["import { useState } from \"react\";\nimport { authService} from \"../fbase\";\nimport { createUserWithEmailAndPassword, signInWithEmailAndPassword, signInWithPopup,\n    GoogleAuthProvider, GithubAuthProvider} from \"firebase/auth\";\nimport AuthForm from \"components/AuthForm\";\n\nconst Auth = () => {\n    const [email, setEmail] = useState(\"\"); //email\n    const [password, setPassword] = useState(\"\"); //password\n    const [newAccount, setNewAccount] = useState(true); //Account\n    const [error, setError] = useState(\"\");\n    const toggleAccount = () => setNewAccount((prev) => !prev); //Toggle Account\n\n    //상태 변화\n    const onChange = (event) => {\n        const {\n            target: {name, value},\n        } = event;\n\n        if(name === \"email\") {\n            setEmail(value);\n        } else if (name === \"password\") {\n            setPassword(value);\n        }\n    };\n\n    //Submit 버튼\n    const onSubmit = async (event) => {\n        event.preventDefault();\n        try {\n            let data;\n            if(newAccount) {\n                data = await createUserWithEmailAndPassword(authService, email, password);\n            } else {\n                //log in\n                data = await signInWithEmailAndPassword(authService, email, password);\n            }\n            console.log(data);\n        } catch (error) {\n            setError(error.message);\n        }\n    };\n\n    //소셜 로그인 버튼\n    const onSocialClick = async (event) => {\n        // console.log(event.target.name);\n        const {\n            target: {name},\n        } = event;\n\n        let provider;\n\n        if(name === \"google\") { //Google 소셜 로그인\n            provider = new GoogleAuthProvider();\n        } else if (name === \"github\") { //Github 소셜 로그인\n            provider = new GithubAuthProvider();\n        }\n        \n        const data = await signInWithPopup(authService, provider);\n    };\n\n    return(\n        <div>\n            <AuthForm />\n            <div>\n                <button onClick={onSocialClick} name=\"google\">\n                    Continue with Google\n                </button>\n                <button onClick={onSocialClick} name=\"github\">\n                    Continue with Github\n                </button>\n            </div>\n        </div>\n    );\n};\n\nexport default Auth;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}