{"ast":null,"code":"import _regeneratorRuntime from\"/Users/gomcoder_mac/Desktop/Study/React/nwitter/nwitter/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/gomcoder_mac/Desktop/Study/React/nwitter/nwitter/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/gomcoder_mac/Desktop/Study/React/nwitter/nwitter/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{authService,dbService}from\"fbase\";import{useNavigate}from\"react-router-dom\";import{useEffect,useState}from\"react\";import{async}from\"@firebase/util\";import{getAuth,updateProfile}from\"firebase/auth\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Profile=function Profile(_ref){var userObj=_ref.userObj,refreshUser=_ref.refreshUser;var navigate=useNavigate();var _useState=useState(userObj.displayName),_useState2=_slicedToArray(_useState,2),newDisplayName=_useState2[0],setNewDisplayName=_useState2[1];var onLogOutClick=function onLogOutClick(){authService.signOut();navigate(\"/\");};var onChange=function onChange(event){var value=event.target.value;setNewDisplayName(value);};var onSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var auth;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:auth=getAuth();event.preventDefault();if(!(userObj.displayName!==newDisplayName)){_context.next=6;break;}_context.next=5;return updateProfile(auth.currentUser,{displayName:newDisplayName});case 5:refreshUser();case 6:case\"end\":return _context.stop();}},_callee);}));return function onSubmit(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmit,children:[/*#__PURE__*/_jsx(\"input\",{onChange:onChange,type:\"text\",placeholder:\"Display name\",value:newDisplayName}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Update Profile\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:onLogOutClick,children:\"Log Out\"})]});};export default Profile;","map":{"version":3,"names":["authService","dbService","useNavigate","useEffect","useState","async","getAuth","updateProfile","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Profile","_ref","userObj","refreshUser","navigate","_useState","displayName","_useState2","_slicedToArray","newDisplayName","setNewDisplayName","onLogOutClick","signOut","onChange","event","value","target","onSubmit","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","auth","wrap","_callee$","_context","prev","next","preventDefault","currentUser","stop","_x","apply","arguments","children","type","placeholder","onClick"],"sources":["/Users/gomcoder_mac/Desktop/Study/React/nwitter/nwitter/src/routes/Profile.js"],"sourcesContent":["import { authService, dbService } from \"fbase\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport { async } from \"@firebase/util\";\nimport { getAuth, updateProfile } from \"firebase/auth\";\n\nconst Profile = ({userObj, refreshUser}) => {\n    let navigate = useNavigate();\n    const [newDisplayName, setNewDisplayName] = useState(userObj.displayName);\n\n    const onLogOutClick = () => {\n        authService.signOut()\n        navigate(\"/\")\n    };    \n\n    const onChange = (event) => {\n        const {\n            target: {value},\n        } = event;\n        setNewDisplayName(value);\n    };\n\n    const onSubmit = async (event) => {\n        const auth = getAuth();\n        event.preventDefault();\n        if (userObj.displayName !== newDisplayName) {\n            await updateProfile(auth.currentUser,{ displayName: newDisplayName });\n            refreshUser();\n        }\n    };\n    \n\n    return (\n        <>\n        <form onSubmit={onSubmit}>\n            <input onChange={onChange} \n                    type=\"text\" \n                    placeholder=\"Display name\" \n                    value={newDisplayName}\n            />\n            <input type=\"submit\" value=\"Update Profile\"/>\n        </form>\n            <button onClick={onLogOutClick}>Log Out</button>\n        </>\n    );\n};\nexport default Profile;"],"mappings":"ubAAA,OAASA,WAAW,CAAEC,SAAS,KAAQ,OAAO,CAC9C,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,OAASC,KAAK,KAAQ,gBAAgB,CACtC,OAASC,OAAO,CAAEC,aAAa,KAAQ,eAAe,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAEvD,GAAM,CAAAC,OAAO,CAAG,QAAV,CAAAA,OAAOA,CAAAC,IAAA,CAA+B,IAA1B,CAAAC,OAAO,CAAAD,IAAA,CAAPC,OAAO,CAAEC,WAAW,CAAAF,IAAA,CAAXE,WAAW,CAClC,GAAI,CAAAC,QAAQ,CAAGhB,WAAW,EAAE,CAC5B,IAAAiB,SAAA,CAA4Cf,QAAQ,CAACY,OAAO,CAACI,WAAW,CAAC,CAAAC,UAAA,CAAAC,cAAA,CAAAH,SAAA,IAAlEI,cAAc,CAAAF,UAAA,IAAEG,iBAAiB,CAAAH,UAAA,IAExC,GAAM,CAAAI,aAAa,CAAG,QAAhB,CAAAA,aAAaA,CAAA,CAAS,CACxBzB,WAAW,CAAC0B,OAAO,EAAE,CACrBR,QAAQ,CAAC,GAAG,CAAC,CACjB,CAAC,CAED,GAAM,CAAAS,QAAQ,CAAG,QAAX,CAAAA,QAAQA,CAAIC,KAAK,CAAK,CACxB,GACa,CAAAC,KAAK,CACdD,KAAK,CADLE,MAAM,CAAGD,KAAK,CAElBL,iBAAiB,CAACK,KAAK,CAAC,CAC5B,CAAC,CAED,GAAM,CAAAE,QAAQ,6BAAAC,KAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAOR,KAAK,MAAAS,IAAA,QAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SACnBL,IAAI,CAAG/B,OAAO,EAAE,CACtBsB,KAAK,CAACe,cAAc,EAAE,CAAC,KACnB3B,OAAO,CAACI,WAAW,GAAKG,cAAc,GAAAiB,QAAA,CAAAE,IAAA,UAAAF,QAAA,CAAAE,IAAA,SAChC,CAAAnC,aAAa,CAAC8B,IAAI,CAACO,WAAW,CAAC,CAAExB,WAAW,CAAEG,cAAe,CAAC,CAAC,QACrEN,WAAW,EAAE,CAAC,wBAAAuB,QAAA,CAAAK,IAAA,MAAAT,OAAA,GAErB,kBAPK,CAAAL,QAAQA,CAAAe,EAAA,SAAAd,KAAA,CAAAe,KAAA,MAAAC,SAAA,OAOb,CAGD,mBACIrC,KAAA,CAAAE,SAAA,EAAAoC,QAAA,eACAtC,KAAA,SAAMoB,QAAQ,CAAEA,QAAS,CAAAkB,QAAA,eACrBxC,IAAA,UAAOkB,QAAQ,CAAEA,QAAS,CAClBuB,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,cAAc,CAC1BtB,KAAK,CAAEN,cAAe,EAC5B,cACFd,IAAA,UAAOyC,IAAI,CAAC,QAAQ,CAACrB,KAAK,CAAC,gBAAgB,EAAE,GAC1C,cACHpB,IAAA,WAAQ2C,OAAO,CAAE3B,aAAc,CAAAwB,QAAA,CAAC,SAAO,EAAS,GACjD,CAEX,CAAC,CACD,cAAe,CAAAnC,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}