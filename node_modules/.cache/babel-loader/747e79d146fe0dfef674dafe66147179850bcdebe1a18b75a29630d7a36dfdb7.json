{"ast":null,"code":"import _regeneratorRuntime from\"/Users/gomcoder_mac/nwitter/nwitter/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/gomcoder_mac/nwitter/nwitter/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/gomcoder_mac/nwitter/nwitter/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{async}from\"@firebase/util\";import{authService}from\"fbase\";import{useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var AuthForm=function AuthForm(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),newAccount=_useState6[0],setNewAccount=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),error=_useState8[0],setError=_useState8[1];var onChange=function onChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;if(name===\"email\"){setEmail(value);}else if(name===\"password\"){setPassword(value);}};var onSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:event.preventDefault();_context.prev=1;if(!newAccount){_context.next=8;break;}_context.next=5;return authService.createUserWithEmailAndPassword(email,password);case 5:data=_context.sent;_context.next=11;break;case 8:_context.next=10;return authService.signInWithEmailAndPassword(email,password);case 10:data=_context.sent;case 11:_context.next=16;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](1);setError(_context.t0.message);case 16:case\"end\":return _context.stop();}},_callee,null,[[1,13]]);}));return function onSubmit(_x){return _ref.apply(this,arguments);};}();var toggleAccount=function toggleAccount(){return setNewAccount(function(prev){return!prev;});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmit,children:[/*#__PURE__*/_jsx(\"input\",{name:\"email\",type:\"email\",placeholder:\"Email\",required:true,value:email,onChange:onChange}),/*#__PURE__*/_jsx(\"input\",{name:\"password\",type:\"password\",placeholder:\"Password\",required:true,value:password,onChange:onChange}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:newAccount?\"Create Account\":\"Log In\"}),/*#__PURE__*/_jsx(\"br\",{}),error]}),/*#__PURE__*/_jsx(\"span\",{onClick:toggleAccount,children:newAccount?\"Sign In\":\"Create Account\"})]});};export default AuthForm;","map":{"version":3,"names":["async","authService","useState","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AuthForm","_useState","_useState2","_slicedToArray","email","setEmail","_useState3","_useState4","password","setPassword","_useState5","_useState6","newAccount","setNewAccount","_useState7","_useState8","error","setError","onChange","event","_event$target","target","name","value","onSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","data","wrap","_callee$","_context","prev","next","preventDefault","createUserWithEmailAndPassword","sent","signInWithEmailAndPassword","t0","message","stop","_x","apply","arguments","toggleAccount","children","type","placeholder","required","onClick"],"sources":["/Users/gomcoder_mac/nwitter/nwitter/src/components/AuthForm.js"],"sourcesContent":["import { async } from \"@firebase/util\";\nimport { authService } from \"fbase\";\nimport { useState } from \"react\";\n\nconst AuthForm = () => {\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [newAccount, setNewAccount] = useState(true);\n    const [error, setError] = useState(\"\");\n\n    const onChange = (event) => {\n        const {\n            target: {name, value},\n        } = event;\n\n        if(name === \"email\") {\n            setEmail(value);\n        } else if(name === \"password\") {\n            setPassword(value);\n        }\n    };\n\n    const onSubmit = async (event) => {\n        event.preventDefault();\n\n        try {\n            let data;\n\n            if(newAccount) {\n                //create Account\n                data = await authService.createUserWithEmailAndPassword(\n                    email, password\n                );\n            } else {\n                //log in\n                data = await authService.signInWithEmailAndPassword(email, password);\n            }\n        } catch (error) {\n            setError(error.message);\n        }\n    };\n\n    const toggleAccount = () => setNewAccount((prev) => !prev);\n\n    return (\n        <>\n            <form onSubmit={onSubmit}>\n                <input \n                    name=\"email\" \n                    type=\"email\" \n                    placeholder=\"Email\" \n                    required \n                    value={email} \n                    onChange={onChange}/>\n                <input \n                    name=\"password\" \n                    type=\"password\" \n                    placeholder=\"Password\" \n                    required \n                    value={password} \n                    onChange={onChange}/>\n                <input type=\"submit\" value={ newAccount ? \"Create Account\" : \"Log In\"} />\n                <br />{error}\n            </form>\n            <span onClick={toggleAccount}>\n                {newAccount ? \"Sign In\" : \"Create Account\"}\n            </span>\n        </>\n    );\n};\n\nexport default AuthForm;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}