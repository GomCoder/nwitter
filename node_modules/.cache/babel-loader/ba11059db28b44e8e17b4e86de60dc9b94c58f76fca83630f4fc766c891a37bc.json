{"ast":null,"code":"import _slicedToArray from\"/Users/gomcoder_mac/nwitter/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import AppRouter from\"./Router\";import{authService,updateProfile}from\"fbase\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),init=_useState2[0],setInit=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),userObj=_useState4[0],setUserObj=_useState4[1];useEffect(function(){authService.onAuthStateChanged(function(user){if(user){setUserObj({uid:user.uid,displayName:user.displayName,updateProfile:function updateProfile(args){return user.updateProfile(args);}});}else{setUserObj(false);}setInit(true);});},[]);var refreshUser=function refreshUser(){var user=authService.currentUser;setUserObj({uid:user.uid,displayName:user.displayName,updateProfile:function updateProfile(args){return user.updateProfile(args);}});};return/*#__PURE__*/_jsxs(_Fragment,{children:[init?/*#__PURE__*/_jsx(AppRouter,{refreshUser:refreshUser,isLoggedIn:Boolean(userObj),userObj:userObj}):\"initailizing...\",/*#__PURE__*/_jsx(\"br\",{})]});}export default App;","map":{"version":3,"names":["useEffect","useState","AppRouter","authService","updateProfile","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","App","_useState","_useState2","_slicedToArray","init","setInit","_useState3","_useState4","userObj","setUserObj","onAuthStateChanged","user","uid","displayName","args","refreshUser","currentUser","children","isLoggedIn","Boolean"],"sources":["/Users/gomcoder_mac/nwitter/src/components/App.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport AppRouter from \"./Router\";\nimport { authService, updateProfile } from \"fbase\";\n\nfunction App() {\n  const [init, setInit] = useState(false);\n  const [userObj, setUserObj] = useState(null);\n  \n  useEffect(()=> {\n    authService.onAuthStateChanged((user) => {\n      if(user) { \n        setUserObj({\n          uid: user.uid,\n          displayName: user.displayName,\n          updateProfile: (args) => user.updateProfile(args),\n        });\n      } else {\n        setUserObj(false);\n      }\n      setInit(true);\n    });\n    }, []);  \n\n  const refreshUser = () => {\n    const user = authService.currentUser;\n    setUserObj({\n      uid: user.uid,\n      displayName: user.displayName,\n      updateProfile: (args) => user.updateProfile(args),\n    });\n  };\n\n  return (\n    <>\n      {init ? (\n        <AppRouter\n          refreshUser={refreshUser}\n          isLoggedIn={Boolean(userObj)}\n          userObj={userObj}\n        />\n          ) : (\n        \"initailizing...\"\n        )}\n        <br />\n    </>\n  );\n}\n\nexport default App;\n"],"mappings":"iHAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,MAAO,CAAAC,SAAS,KAAM,UAAU,CAChC,OAASC,WAAW,CAAEC,aAAa,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,QAAA,IAAAC,SAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEnD,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,IAAAC,SAAA,CAAwBX,QAAQ,CAAC,KAAK,CAAC,CAAAY,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAhCG,IAAI,CAAAF,UAAA,IAAEG,OAAO,CAAAH,UAAA,IACpB,IAAAI,UAAA,CAA8BhB,QAAQ,CAAC,IAAI,CAAC,CAAAiB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAArCE,OAAO,CAAAD,UAAA,IAAEE,UAAU,CAAAF,UAAA,IAE1BlB,SAAS,CAAC,UAAK,CACbG,WAAW,CAACkB,kBAAkB,CAAC,SAACC,IAAI,CAAK,CACvC,GAAGA,IAAI,CAAE,CACPF,UAAU,CAAC,CACTG,GAAG,CAAED,IAAI,CAACC,GAAG,CACbC,WAAW,CAAEF,IAAI,CAACE,WAAW,CAC7BpB,aAAa,CAAE,SAAAA,cAACqB,IAAI,QAAK,CAAAH,IAAI,CAAClB,aAAa,CAACqB,IAAI,CAAC,EACnD,CAAC,CAAC,CACJ,CAAC,IAAM,CACLL,UAAU,CAAC,KAAK,CAAC,CACnB,CACAJ,OAAO,CAAC,IAAI,CAAC,CACf,CAAC,CAAC,CACF,CAAC,CAAE,EAAE,CAAC,CAER,GAAM,CAAAU,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAA,CAAS,CACxB,GAAM,CAAAJ,IAAI,CAAGnB,WAAW,CAACwB,WAAW,CACpCP,UAAU,CAAC,CACTG,GAAG,CAAED,IAAI,CAACC,GAAG,CACbC,WAAW,CAAEF,IAAI,CAACE,WAAW,CAC7BpB,aAAa,CAAE,SAAAA,cAACqB,IAAI,QAAK,CAAAH,IAAI,CAAClB,aAAa,CAACqB,IAAI,CAAC,EACnD,CAAC,CAAC,CACJ,CAAC,CAED,mBACEf,KAAA,CAAAF,SAAA,EAAAoB,QAAA,EACGb,IAAI,cACHT,IAAA,CAACJ,SAAS,EACRwB,WAAW,CAAEA,WAAY,CACzBG,UAAU,CAAEC,OAAO,CAACX,OAAO,CAAE,CAC7BA,OAAO,CAAEA,OAAQ,EACjB,CAEF,iBACC,cACDb,IAAA,SAAM,GACP,CAEP,CAEA,cAAe,CAAAK,GAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}